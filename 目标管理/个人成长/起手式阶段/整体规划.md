# ant design pro前置技术

## 核心React概念

- 组件化思想
  - 理解什么是组件（函数组件、类组件）。
  - 组件的组合、嵌套和复用。
  - `props`：父组件向子组件传递数据和配置的方式。理解单向数据流。
  - `state`：组件内部管理自身状态的方式。理解 `setState` 的异步性和批量更新。
- JSX语法
  - 熟悉 JSX 的基本写法（看起来像 HTML，本质是 `React.createElement` 的语法糖）。
  - 在 JSX 中嵌入 JavaScript 表达式 `{}`。
  - JSX 属性。
- 组件状态
- 组件生命周期 / 副作用 (useEffect Hook)
  - 了解 `componentDidMount`, `componentDidUpdate`, `componentWillUnmount` 等主要生命周期方法的作用。
  - 理解它们如何被 `useEffect` Hook 替代（`useEffect` 的回调函数 + 清理函数可以模拟大部分生命周期行为）。
- 组件通信
- Hooks (核心，**重中之重！Ant Design Pro 主要使用函数组件和 Hooks**)
  - `useState`：在函数组件中管理状态。**这是最核心的 Hook。**
  - `useEffect`：处理副作用（数据获取、订阅、手动操作 DOM 等）。理解依赖项数组 `[]`、`[dep1, dep2]` 和不传的区别。**数据获取和生命周期管理的关键。**
  - `useContext`：在组件树中跨层级传递数据，避免 prop drilling。Ant Design Pro 可能用它或自己的状态管理方案。
  - `useReducer`：管理更复杂的状态逻辑（可选，但了解有益）。
  - `useRef`：获取 DOM 节点引用或保存可变值（不触发渲染）。
  - `useMemo` / `useCallback`：性能优化，缓存值和函数，避免不必要的重新计算或渲染。**在复杂组件或列表渲染中很重要。**
- 条件渲染、列表渲染 (key 的重要性)
  - 熟练使用 `if`/`else`、三元运算符 `? :`、逻辑与 `&&` 进行条件渲染。
  - 熟练使用 `map()` 渲染列表，理解 `key` 属性的重要性和正确用法（稳定、唯一）。
- 受控组件 vs 非受控组件（尤其在表单中）
- 事件处理
  - React 事件命名（`onClick`, `onChange` 等，驼峰式）。
  - 如何绑定事件处理函数（函数引用，注意 `this` 绑定问题在类组件中，函数组件通常用箭头函数或 `useCallback`）。
  - 理解合成事件 `(SyntheticEvent)`。

## 与 Ant Design Pro 强相关的 React 知识

- **React Router (路由 - Ant Design Pro 基于 Umi，Umi 内置了路由)** 
  - **核心概念：** `BrowserRouter`/`HashRouter`, `Routes`, `Route`, `Link`, `Navigate` (v6)。
  - **路由匹配 & 嵌套路由：** 理解 `path`, `element` (v6) / `component` (v5)，嵌套路由的配置方式。
  - **路由参数：** 如何定义 (`:id`)、获取 (`useParams` hook)。
  - **导航：** 使用 `Link` 组件或 `useNavigate` hook 进行编程式导航。
  - **权限路由：** Ant Design Pro 的核心功能之一。理解如何结合路由配置和权限信息 (`access.ts`) 控制页面访问。需要理解 `useAccess()` hook 和路由配置中的 `access` 属性。
- 状态管理(Ant Design Pro 主要使用其内置的 Dva 或 Umi Max 的 Model 方案)
  - **Context API + `useReducer`：** React 自带的状态管理方案，适合中小型应用或跨组件共享状态。理解 `createContext`, `Context.Provider`, `useContext`。
  - **Dva (基于 Redux & Redux Saga)：** Ant Design Pro 传统内置方案。理解核心概念：
    - `State`： 存储数据。
    - `Action`： 描述发生了什么的对象（`{ type: 'add', payload }`）。
    - `Reducer`： 纯函数，接收当前 state 和 action，返回新 state。
    - `Effect` (副作用)： 处理异步操作（如请求 API）。通常使用 `call`, `put` 等 effects。
    - `Subscription`： 订阅数据源。
  - **Umi Max 的 Model (推荐新项目使用)：** 更简洁的约定式状态管理。在 `src/models` 目录下创建文件即可自动注册 model。核心是 `namespace`, `state`, `reducers` (同步修改 state), `effects` (异步操作)。通过 `useModel(namespace)` hook 在组件中使用。**这是目前 Ant Design Pro 文档和示例中更主推的方式，务必重点学习。**
- 数据获取
  - 理解如何在组件（通常是 `useEffect` 或 model 的 `effect` 中）发起异步请求（使用 `fetch` 或 `axios`）。
  - 处理加载状态、成功状态、错误状态。Ant Design Pro 的 ProComponents (如 `ProTable`) 通常内置了请求和状态管理。
  - Ant Design Pro 封装了 `request` 方法（基于 `umi-request`），在 `src/services` 目录下组织 API 请求函数是常见实践。

## Ant Design Pro 特定学习重点

- **Umi 框架基础** 
  - 理解 Umi 是什么：企业级前端应用框架，提供路由、构建、部署、测试、插件等开箱即用的能力。Ant Design Pro 是基于 Umi 的脚手架/模板。
  - **配置文件：** `config/config.ts` 或 `.umirc.ts` 是项目核心配置文件（路由、代理、插件等）。
  - **目录结构：** 熟悉 Ant Design Pro 生成的默认目录结构（`pages`, `models`, `services`, `config`, `public`, `src/access.ts`, `src/app.tsx` 等），理解每个目录/文件的职责。
- **Ant Design 组件库** 
  - 复习常用 Ant Design (antd) 组件：`Button`, `Form`, `Table`, `Input`, `Select`, `Modal`, `message`, `notification`, `Layout`, `Menu` 等。后台系统大量使用这些组件。
  - 理解 Ant Design 的设计理念和 API 风格。
- **Ant Design Pro Components** 
  - **核心价值！** Ant Design Pro 提供了一系列高级业务组件 (`@ant-design/pro-components`)，能极大提升后台页面开发效率：
    - `ProLayout`： 强大的后台布局组件，集成菜单、面包屑、页头等。
    - `ProTable`： **超级重点！** 封装了表格、分页、搜索、筛选、批量操作等复杂逻辑，通过配置即可快速生成 CRUD 列表页。务必深入学习其 API (`request`, `columns`, `toolBarRender`, `rowSelection` 等)。
    - `ProForm`： 强大的表单组件，支持各种表单项布局、分组、联动、依赖等复杂场景。
    - `ProCard`, `ProDescriptions`, `ProSkeleton` 等。
  - 学习如何查找、使用和配置这些 ProComponents。
- 权限管理
  - 理解 Ant Design Pro 的权限设计 (`src/access.ts`)。
  - 如何定义权限码。
  - 如何在组件中使用 `useAccess()` hook 控制按钮/元素的显示隐藏。
  - 如何在路由配置 (`config/routes.ts`) 中使用 `access` 属性控制页面访问权限。
- 样式方案
  - Ant Design Pro 默认使用 CSS Modules 或 Less。了解基本使用方式。
  - 理解如何覆盖 Ant Design 组件的默认样式（通常通过 `:global` 或使用 `styles` 属性/`className`）。

# 目标整理

| 截止日期      | 目标                            | 子目标 | 状态 |
| ------------- | ------------------------------- | ------ | ---- |
| 2025年7月31日 | ant design pro前置技术点+复习ts |        |      |
|               |                                 |        |      |
|               |                                 |        |      |

